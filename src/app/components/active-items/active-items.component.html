<div class="container">
  <div class="row-spacing row">
    <button (click)="openDialog()" pButton type="button" icon="fas fa-cubes" iconPos="left"
      label="Add new item"></button>
  </div>

  <div class="row-spacing row">
    <p-table [value]="items">
      <ng-template pTemplate="header">
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Desc</th>
          <th>Location</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{item.id}}</td>
          <td>{{item.item_name}}</td>
          <td>{{item.desc}}</td>
          <td>{{item.location.lat}}, {{item.location.lng}}</td>
          <td>
            <button (click)="deleteCatalogItem(item.id)" pButton type="button" class="ui-button-danger"
              icon="fas fa-trash-alt" iconPos="left" label="Delete"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <p-dialog header="Item" [(visible)]="showDialog" [style]="{width: '500px'}">

    <div class="container">
      <div class="row-spacing row">
        <label style="width:150px;">Base object: </label>
        <p-autoComplete [(ngModel)]="selectedCatalogItem" [suggestions]="catalogSuggestions"
          (completeMethod)="search($event)" field="item_name" [forceSelection]="true"></p-autoComplete>
      </div>

      <div class="row-spacing row">
        <label style="width:150px;">Location: </label>
        <input type="text" placeholder="Lat Lng" [(ngModel)]="location" pInputText>
      </div>

    </div>

    <p-footer>
      <button (click)="cancelDialog()" class="ui-button-secondary" pButton type="button" icon="fas fa-times"
        iconPos="left" label="Cancel"></button>
      <button (click)="saveActiveItem()" pButton type="button" icon="fas fa-check" iconPos="left"
        label="Add new item"></button>
    </p-footer>

  </p-dialog>

</div>